<div *ngIf="loading; else mainContent">
Loading...
</div>
<ng-template #mainContent>
<main class="theme-{{ user()?.dashboard_theme }} flex h-full md:flex-col overflow-auto ">
  <div class="siderbar w-[15%] bg-card border-r border-border md:hidden py-5">
    <app-sidebar />
  </div>
  <div class="flex-auto p-5 flex flex-col gap-5">
    <nav class="flex gap-3 justify-end items-center py-2">
      <h2 class=" text-sm font-medium mr-auto">Hello, <span class="text-primary">{{ user()?.name }}</span></h2>
      <span>
        <p-button (onClick)="themes.toggle($event)">
          <ng-template pTemplate="content" [ngSwitch]="user()?.dashboard_theme">
            <ng-icon
              *ngSwitchCase="'light'"
              name="ionSunnyOutline"
              size="18px"
              class="text-primary"
            />
            <ng-icon
              *ngSwitchCase="'dark'"
              name="ionMoon"
              size="18px"
              class="text-primary"
            />
            <ng-icon
              *ngSwitchCase="'dark-blue'"
              name="ionMoonOutline"
              size="18px"
              class="text-primary"
            />
          </ng-template>
        </p-button>
        <p-tieredMenu
          [model]="themeOptions"
          #themes
          [popup]="true"
          styleClass="bg-background text-text border-border"

        />
      </span>

      <ng-icon name="ionNotificationsOutline" size="18px" />
      <ng-icon name="ionSettingsOutline" size="18px" />
      <ng-icon name="ionHelpCircleOutline" size="18px" />
      <p-avatar label="V" styleClass="bg-primary text-white" shape="circle" />
    </nav>
    <section class="flex-auto overflow-auto">
      <router-outlet />
    </section>
  </div>
</main>
</ng-template>

